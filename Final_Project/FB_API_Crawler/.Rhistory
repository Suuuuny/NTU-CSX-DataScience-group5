print("XD")
setwd("E:/GitHub/NTU-CSX-DataScience-group5/Final_Project/FB_API_Crawler")
library(dplyr)
library(magrittr)
library(NLP)
library(tidyr)
library(ggplot2)
# 丁守中 2017-12-17 - 2018-6-16
Di_report <- read.csv("Di_report.csv")
# 姚文智　
Yao_report <- read.csv("Yao_report.csv")
# 柯文哲
Kao_report <- read.csv("Ko_report.csv")
# 建立 function 進行資料清理
DataClean <- function(DATA){
# please input data.frame and this function will output data.frame
# Cut time variable
DATA <- DATA %>% separate(time, c("date","time"), "T")
DATA <- DATA %>% separate(date, c("year","month","day"), "-")
# Drop 2017 data
DATA <- DATA[DATA$year == "2018", ]
# 轉換為數值資料
DATA$month <- DATA$month %>% as.numeric()
DATA$day <- DATA$day %>% as.numeric()
# Exchage month and day to halfmonth (以15天為間距)
halfmonth <- c()
for(i in DATA$day>15) {
if (i==TRUE) {
halfmonth <- c(halfmonth,0.5)
}else{
halfmonth <- c(halfmonth,0)
}
}
# 半月變數加上原始月份，指定回資料表
halfmonth <- DATA$month + halfmonth
halfmonth <- halfmonth %>% as.factor()
# 把半月變數資料放回去data frame
DATA <- cbind(DATA,halfmonth)
# 清除6月半資料
DATA <- DATA[DATA$halfmonth!=6.5,]
return(DATA)
}
Di_report <- DataClean(Di_report)
Yao_report <- DataClean(Yao_report)
Kao_report <- DataClean(Kao_report)
## 畫圖 丁守中 柯文哲 姚文智 每半個月發文量
Di = summary(Di_report$halfmonth) %>% as.numeric()
Yao = summary(Yao_report$halfmonth) %>% as.numeric()
Ko = summary(Kao_report$halfmonth) %>% as.numeric()
report_sum = data.frame()
halfmonth = c("一月上","一月下","二月上","二月下","三月上","三月下","四月上","四月下","五月上","五月下","六月上")
report_Di = cbind(Di[1:11],rep("Di",time(11)))
report_Ko = cbind(Ko[1:11],rep("Ko",time(11)))
report_Yao = cbind(Yao[1:11],rep("Yao",time(11)))
report_sum <- rbind(report_Di,report_Ko,report_Yao) %>% as.data.frame()
report_sum <- report_sum %>% cbind(.,c(halfmonth,halfmonth,halfmonth))
colnames(report_sum) <- c("post","name","halfmonth")
report_sum$post <- as.numeric(as.character(report_sum$post))
report_sum$halfmonth <- report_sum$halfmonth %>% factor(.,c("一月上","一月下","二月上","二月下","三月上","三月下","四月上","四月下","五月上","五月下","六月上"))
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)+ geom_line() +  scale_color_manual(values=c("blue", "black", "green"))
report_sum
summary(report_Di)
sum(report_Di)
sum(report_Di)
report_Di
report_Di$[,1]
report_Di %>% data.frame()
report_Di %>% data.frame() %>%  summery
report_Di %>% data.frame() %>%  summary()
report_Di %>% data.frame() %>%
x = report_Di %>% data.frame()
x
x$X1
x$X1 %>% sum()
24+29+30+21+23+25+22+31+24+18+18
# 丁守中 2017-12-17 - 2018-6-16
Di_report <- read.csv("Di_report.csv")
# 姚文智　
Yao_report <- read.csv("Yao_report.csv")
# 柯文哲
Kao_report <- read.csv("Ko_report.csv")
# 建立 function 進行資料清理
DataClean <- function(DATA){
# please input data.frame and this function will output data.frame
# Cut time variable
DATA <- DATA %>% separate(time, c("date","time"), "T")
DATA <- DATA %>% separate(date, c("year","month","day"), "-")
# Drop 2017 data
DATA <- DATA[DATA$year == "2018", ]
# 轉換為數值資料
DATA$month <- DATA$month %>% as.numeric()
DATA$day <- DATA$day %>% as.numeric()
# Exchage month and day to halfmonth (以15天為間距)
halfmonth <- c()
for(i in DATA$day>15) {
if (i==TRUE) {
halfmonth <- c(halfmonth,0.5)
}else{
halfmonth <- c(halfmonth,0)
}
}
# 半月變數加上原始月份，指定回資料表
halfmonth <- DATA$month + halfmonth
halfmonth <- halfmonth %>% as.factor()
# 把半月變數資料放回去data frame
DATA <- cbind(DATA,halfmonth)
# 清除6月半資料
DATA <- DATA[DATA$halfmonth!=6.5,]
return(DATA)
}
Di_report <- DataClean(Di_report)
Yao_report <- DataClean(Yao_report)
Kao_report <- DataClean(Kao_report)
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)+ geom_line() +  scale_color_manual(values=c("blue", "black", "green"))+xlab("time")
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)+ geom_line() +  scale_color_manual(values=c("blue", "black", "green"))+xlab("time")+scale_color_discrete(breaks=c("丁","柯文哲","姚文智"))
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)+ geom_line() +  scale_color_manual(values=c("blue", "black", "green"))+xlab("time")
+ scale_fill_discrete(labels=c("A","V","C")
)
+ scale_fill_discrete(labels=c("A","V","C"))
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)+ geom_line() +  scale_color_manual(values=c("blue", "black", "green"))+xlab("time")+ scale_fill_discrete(labels=c("A","V","C"))
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)+ geom_line() +  scale_color_manual(values=c("blue", "black", "green"))+xlab("time")+ scale_fill_discrete(labels=c("丁守中","V","C"))
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)
+geom_line()
+xlab("time")+ scale_fill_discrete(labels=c("丁守中","V","C"))
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)
+geom_line() +  scale_color_manual(values=c("blue", "black", "green"))
+xlab("time")+ scale_fill_discrete(labels=c("丁守中","V","C"))
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)
+ geom_line() +  scale_color_manual(values=c("blue", "black", "green"))
+ xlab("time")
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)+ geom_line() +  scale_color_manual(values=c("blue", "black", "green"))+xlab("time")+ scale_fill_discrete(labels=c("丁守中","V","C"))
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)+ geom_line() +  scale_color_manual(values=c("blue", "black", "green"))+xlab("time")+theme(legend.position = "none") +scale_fill_discrete(labels=c("丁守中","V","C"))
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)+ geom_line() +  scale_color_manual(values=c("blue", "black", "green"))+xlab("time") +scale_fill_discrete(labels=c("丁守中","V","C"))
theme()
?theme
library(dplyr)
library(magrittr)
library(NLP)
library(tidyr)
library(ggplot2)
# 丁守中 2017-12-17 - 2018-6-16
Di_report <- read.csv("Di_report.csv")
# 姚文智　
Yao_report <- read.csv("Yao_report.csv")
# 柯文哲
Kao_report <- read.csv("Ko_report.csv")
# 建立 function 進行資料清理
DataClean <- function(DATA){
# please input data.frame and this function will output data.frame
# Cut time variable
DATA <- DATA %>% separate(time, c("date","time"), "T")
DATA <- DATA %>% separate(date, c("year","month","day"), "-")
# Drop 2017 data
DATA <- DATA[DATA$year == "2018", ]
# 轉換為數值資料
DATA$month <- DATA$month %>% as.numeric()
DATA$day <- DATA$day %>% as.numeric()
# Exchage month and day to halfmonth (以15天為間距)
halfmonth <- c()
for(i in DATA$day>15) {
if (i==TRUE) {
halfmonth <- c(halfmonth,0.5)
}else{
halfmonth <- c(halfmonth,0)
}
}
# 半月變數加上原始月份，指定回資料表
halfmonth <- DATA$month + halfmonth
halfmonth <- halfmonth %>% as.factor()
# 把半月變數資料放回去data frame
DATA <- cbind(DATA,halfmonth)
# 清除6月半資料
DATA <- DATA[DATA$halfmonth!=6.5,]
return(DATA)
}
Di_report <- DataClean(Di_report)
Yao_report <- DataClean(Yao_report)
Kao_report <- DataClean(Kao_report)
## 畫圖 丁守中 柯文哲 姚文智 每半個月發文量
Di = summary(Di_report$halfmonth) %>% as.numeric()
Yao = summary(Yao_report$halfmonth) %>% as.numeric()
Ko = summary(Kao_report$halfmonth) %>% as.numeric()
report_sum = data.frame()
halfmonth = c("一月上","一月下","二月上","二月下","三月上","三月下","四月上","四月下","五月上","五月下","六月上")
report_Di = cbind(Di[1:11],rep("丁守中",time(11)))
report_Ko = cbind(Ko[1:11],rep("柯文哲",time(11)))
report_Yao = cbind(Yao[1:11],rep("姚文智",time(11)))
report_sum <- rbind(report_Di,report_Ko,report_Yao) %>% as.data.frame()
report_sum <- report_sum %>% cbind(.,c(halfmonth,halfmonth,halfmonth))
colnames(report_sum) <- c("post","name","halfmonth")
report_sum$post <- as.numeric(as.character(report_sum$post))
report_sum$halfmonth <- report_sum$halfmonth %>% factor(.,c("一月上","一月下","二月上","二月下","三月上","三月下","四月上","四月下","五月上","五月下","六月上"))
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)+ geom_line() +  scale_color_manual(values=c("blue", "black", "green"))+xlab("time") +scale_fill_discrete(labels=c("丁守中","V","C"))
ggplot(report_sum, aes(x = halfmonth, y = post, colour=name,group=name))+ geom_point(size = 4)+ geom_line() +  scale_color_manual(values=c("blue", "green", "black"))+xlab("time") +scale_fill_discrete(labels=c("丁守中","V","C"))
